<main>
  <p id="notice"><%= flash[:notice] %></p>
  <div class="container">
    <div class="row text-center">
      <div class="col-md-3">
        <%= attachment_image_tag @user, :profile_image, :fill, 150, 150, fallback: "default-image.jpg", class:"mt-3 rounded-circle"; %>
      </div>
      <div class="col-md-9 text-left">
        <div>
          <h3><%= @user.name %></h3>
        </div>
        <div>
          <h5><%= @user.introduction %></h5>
        </div>
        <% if current_user.id == @user.id %>
          <div class='row'>
            <%= link_to(edit_user_path(current_user.id), class:"btn btn-outline-secondary btn-block") do %>
              <i class="fas fa-user-cog"></i>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
    <div class="row text-center">
      <div class="row user_row">
        <% @user.photograms.each do |photogram| %>
          <div class="col-4">
            <div class="card mx-auto mt-4 shadow-lg image">
              <%= link_to photogram_path(photogram.id) do %>
                <%= attachment_image_tag photogram, :image, :fill, 300, 300, fallback: "default-image.jpg", class:"card-img-top"; %>
              <% end %>
              <div class="card-body">
                <div class="row">
                  <div class="col-5">
                    <%= attachment_image_tag @user, :profile_image, :fill, 50, 50, fallback: "default-image.jpg", class:"mt-3 rounded-circle"; %>
                  </div>
                  <div class="col-7">
                    <p class="card-title">
                      <%= link_to(photogram_path(photogram.id), class:"text-dark") do %>
                        <strong><i class="far fa-flag"></i><span> <%= photogram.title %></span></strong>
                      <% end %>
                    </p>
                    <span><i class="fas fa-user"></i> By <%= @user.name %></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</main>